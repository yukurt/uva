#include <stdio.h>
#include <deque>
#include <string.h>

int main() {
	const int MAX_LINE = 1010;
	int LLCS[MAX_LINE][MAX_LINE];
	char line[MAX_LINE];
	int n;
	int fhist[MAX_LINE];
	int shist[MAX_LINE];

	scanf("%d", &n);

	for (int i = 1; i <= n; ++i)
	{
		int x;
		scanf("%d", &x);
		fhist[x] = i;
	}

	while (true)
	{
		for (int i = 1; i <= n; ++i)
		{
			int x;

			if (scanf("%d", &x) == EOF)
			{
				return 0;
			}

			shist[x] = i;
		}

		for (int i = 0; i <= n; ++i)
		{
			LLCS[i][0] = 0;
		}

		for (int j = 0; j <= n; ++j)
		{
			LLCS[0][j] = 0;
		}

/*
		printf("fhist: ");
		for (int i = 1; i <= fword_size; ++i)
		{
			printf("%d ", fhist[i]);
		}
		printf("\n");

		printf("shist: ");
		for (int i = 1; i <= fword_size; ++i)
		{
			printf("%d ", shist[i]);
		}
		printf("\n");
*/

		for (int i = 1; i <= n; ++i)
		{
			for (int j = 1; j <= n; ++j)
			{
				if (fhist[i] == shist[j])
				{
//					printf("%d %d: %d, %d\n", i, j, fhist[i], shist[j]);
					LLCS[i][j] = LLCS[i - 1][j - 1] + 1;
				}
				else
				{
					int v = LLCS[i - 1][j];
					int h = LLCS[i][j - 1];

					LLCS[i][j] = v > h ? v : h;
				}
			}
		}

/*
		for (int i = 0; i <= n; ++i)
		{
			for (int j = 0; j <= n; ++j)
			{
				printf("%d ", LLCS[i][j]);
			}
			printf("\n");
		}
*/

		printf("%d\n", LLCS[n][n]);
	}

	return 0;
}
